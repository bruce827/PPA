# PPA系统自动化测试脚本

## 测试概述
本测试脚本基于用户手册的核心流程，使用Chrome Dev MCP工具进行端到端自动化测试。

## 测试环境
- 前端地址：http://localhost:8000
- 后端地址：http://localhost:3001
- 测试工具：Chrome Dev MCP

## 测试场景

### 1. 系统启动与首页访问
- 访问系统首页
- 验证页面加载成功
- 验证默认跳转到数据看板

### 2. 参数配置
- 进入参数配置页面
- 添加角色与单价
- 配置风险评估项
- 设置差旅成本

### 3. 新建项目评估（核心流程）
#### 步骤一：风险评分
- 选择各风险评估项的选项
- 验证风险总分和评分因子实时计算

#### 步骤二：工作量估算
- 新功能开发：添加功能模块，分配角色工作天数
- 系统对接工作量：添加对接项，分配工作量

#### 步骤三：其他成本
- 填写差旅月数
- 填写运维月数和人数
- 添加风险成本项

#### 步骤四：生成总览
- 点击"计算最新报价"
- 验证成本明细显示
- 保存项目（可选保存为模板）

### 4. 历史项目管理
- 查看历史项目列表
- 测试搜索和排序功能
- 查看项目详情
- 编辑项目
- 删除项目

### 5. 模板功能
- 从模板创建新项目
- 验证数据自动填充

### 6. 数据看板
- 查看项目统计数据
- 验证风险分布图表

## 测试数据
```javascript
const testData = {
  project: {
    name: "自动化测试项目_" + Date.now(),
    description: "自动化测试创建的项目"
  },
  role: {
    name: "测试工程师",
    price: 1600
  },
  workload: {
    module1: "用户管理",
    module2: "用户注册",
    description: "实现用户注册功能",
    pm_days: 2,
    dev_days: 5,
    test_days: 2
  },
  costs: {
    travel_months: 2,
    maintenance_months: 12,
    maintenance_headcount: 1,
    risks: [
      { content: "技术风险", cost: 5 },
      { content: "管理风险", cost: 3 }
    ]
  }
}
```

## 预期结果
1. 所有页面正常加载
2. 表单数据能正确保存
3. 计算结果准确
4. 项目能成功创建和管理
5. 模板功能正常工作
6. 数据统计正确

## 测试执行步骤
1. 打开Chrome浏览器访问系统
2. 按照用户手册流程操作
3. 记录每个步骤的执行结果
4. 生成测试报告