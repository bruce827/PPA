# è®¡ç®—é€»è¾‘æ”¹è¿›å¾…åŠæ¸…å•

<!-- markdownlint-disable -->

**åˆ›å»ºæ—¥æœŸ**: 2025-10-21  
**ç›¸å…³æ–‡æ¡£**: [calculation-logic-spec.md](./calculation-logic-spec.md)  
**ä¼˜å…ˆçº§å®šä¹‰**: ğŸ”´ é«˜ä¼˜å…ˆçº§ | ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ | ğŸŸ¢ ä½ä¼˜å…ˆçº§

---

## å¾…åŠäº‹é¡¹æ¦‚è§ˆ

| ç¼–å· | é—®é¢˜ | ä¼˜å…ˆçº§ | çŠ¶æ€ | é¢„ä¼°å·¥ä½œé‡ |
|------|------|--------|------|-----------|
| TODO-1 | å·®æ—…æˆæœ¬ç¡¬ç¼–ç  | ğŸŸ¡ ä¸­ | âœ… å·²å®Œæˆ | 2å°æ—¶ â†’ 1å°æ—¶ |
| TODO-2 | è¿ç»´æˆæœ¬å•ä»·ç¡¬ç¼–ç  | ğŸŸ¡ ä¸­ | âœ… å·²å®Œæˆ | 1å°æ—¶ |
| TODO-3 | è¯„åˆ†å› å­è®¡ç®—é€»è¾‘ä¼˜åŒ– | ğŸ”´ é«˜ | âœ… å·²å®Œæˆ | 3å°æ—¶ â†’ 4å°æ—¶ |
| TODO-4 | å››èˆäº”å…¥æ—¶æœºä¼˜åŒ– | ğŸŸ¢ ä½ | âœ… å·²å®Œæˆ | 1å°æ—¶ â†’ 1.5å°æ—¶ |
| TODO-5 | å·¥ä½œé‡æ•°æ®è¿”å›å‰ç«¯ | ğŸŸ¡ ä¸­ | âœ… å·²å®Œæˆ | 2å°æ—¶ â†’ 3å°æ—¶ |

---

## TODO-1: å·®æ—…æˆæœ¬é…ç½®åŒ–

### å½“å‰é—®é¢˜
```javascript
// server/index.js - POST /api/calculate
const travelCost = (assessmentData.travel_months || 0) * 1.08;  // âŒ ç¡¬ç¼–ç 
```

**é—®é¢˜åˆ†æ**:
- å·®æ—…å•ä»· `1.08ä¸‡/æœˆ` ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
- å¦‚æœå·®æ—…æˆæœ¬å˜åŒ–ï¼Œéœ€è¦ä¿®æ”¹ä»£ç é‡æ–°éƒ¨ç½²
- æ— æ³•æ”¯æŒä¸åŒç±»å‹çš„å·®æ—…æˆæœ¬ï¼ˆå¦‚å›½å†…/å›½é™…ï¼‰

### æ”¹è¿›æ–¹æ¡ˆ

#### æ–¹æ¡ˆA: å•ä¸€é…ç½®é¡¹ (ç®€å•)
ä» `config_travel_costs` è¡¨è¯»å–æ ‡å‡†å·®æ—…å•ä»·

**ä¼˜ç‚¹**:
- å®ç°ç®€å•ï¼Œä¿®æ”¹é‡å°
- ç¬¦åˆå½“å‰è¡¨ç»“æ„

**ç¼ºç‚¹**:
- åªæ”¯æŒå•ä¸€å·®æ—…æˆæœ¬æ ‡å‡†
- æ— æ³•åŒºåˆ†å·®æ—…ç±»å‹

**å®ç°ä»£ç **:
```javascript
// 1. å…ˆæŸ¥è¯¢é…ç½®
db.get(
  "SELECT cost_per_month FROM config_travel_costs WHERE item_name = 'æ ‡å‡†å·®æ—…'", 
  (err, row) => {
    const travelUnitCost = row?.cost_per_month / 10000 || 1.08;
    const travelCost = assessmentData.travel_months * travelUnitCost;
    // ... ç»§ç»­è®¡ç®—
  }
);
```

#### æ–¹æ¡ˆB: å¤šç±»å‹å·®æ—… (å¤æ‚)
å‰ç«¯æ”¯æŒé€‰æ‹©å·®æ—…ç±»å‹ï¼ˆå›½å†…/å›½é™…/è¿œç¨‹ï¼‰

**ä¼˜ç‚¹**:
- çµæ´»æ€§é«˜
- æ›´ç²¾ç¡®

**ç¼ºç‚¹**:
- éœ€è¦ä¿®æ”¹å‰ç«¯è¡¨å•
- éœ€è¦ä¿®æ”¹æ•°æ®ç»“æ„
- å¤æ‚åº¦å¢åŠ 

**æ•°æ®ç»“æ„è°ƒæ•´**:
```typescript
// å‰ç«¯æ•°æ®ç»“æ„
type AssessmentData = {
  // åŸ: travel_months: number;
  travel_items: Array<{
    type: 'domestic' | 'international' | 'remote';
    months: number;
  }>;
}
```

### è®¨è®ºé—®é¢˜
1. ~~æ˜¯å¦éœ€è¦å¤šç±»å‹å·®æ—…ï¼Ÿ~~ **å·²å†³å®šï¼šé‡‡ç”¨æ–¹æ¡ˆAå‡çº§ç‰ˆ**
2. ~~é…ç½®ä½ç½®~~ï¼š**å·²å®ç°ï¼šä»config_travel_costsè¡¨SUMæŸ¥è¯¢**
3. ~~å…¼å®¹æ€§~~ï¼š**å·²å¤„ç†ï¼šé»˜è®¤å€¼10800å…ƒå‘åå…¼å®¹**

### å®æ–½æ–¹æ¡ˆ
âœ… **å·²é‡‡ç”¨ï¼šæ–¹æ¡ˆAå‡çº§ç‰ˆï¼ˆæ±‚å’Œæ‰€æœ‰å·®æ—…æˆæœ¬é¡¹ï¼‰**
- ä» `config_travel_costs` è¡¨æŸ¥è¯¢æ‰€æœ‰ `is_active = 1` çš„æˆæœ¬é¡¹æ±‚å’Œ
- æ”¯æŒå·®æ—…æˆæœ¬ç®¡ç†æ¨¡å—çµæ´»é…ç½®ï¼ˆå¸‚å†…é€šå‹¤ã€ä½å®¿ã€é¤è¡¥ã€å‡ºå·®è¡¥åŠ©ç­‰ï¼‰
- é»˜è®¤å€¼10800å…ƒ/æœˆä¿è¯å‘åå…¼å®¹

### å®æ–½è®°å½•
**å®Œæˆæ—¶é—´**: 2025-10-21  
**ä¿®æ”¹æ–‡ä»¶**: `server/index.js`  
**ä¿®æ”¹å†…å®¹**:
1. POST `/api/calculate` ç«¯ç‚¹ï¼ˆç¬¬247-260è¡Œï¼‰
2. POST `/api/projects` ç«¯ç‚¹ï¼ˆç¬¬316-329è¡Œï¼‰

**å®ç°ä»£ç **:
```javascript
// ä»é…ç½®è¡¨æŸ¥è¯¢æ‰€æœ‰å·®æ—…æˆæœ¬é¡¹çš„æ€»å’Œï¼ˆå…ƒ/äºº/æœˆï¼‰
const travelCostPerMonth = await new Promise((resolve, reject) => {
  db.get(
    'SELECT SUM(cost_per_month) as total FROM config_travel_costs WHERE is_active = 1',
    [],
    (err, row) => {
      if (err) reject(err);
      else resolve(row?.total || 10800); // é»˜è®¤å€¼10800å…ƒ/æœˆï¼ˆå‘åå…¼å®¹ï¼‰
    }
  );
});
const travelCost = (assessmentData.travel_months || 0) * (travelCostPerMonth / 10000); // è½¬æ¢ä¸ºä¸‡å…ƒ
```

**ä¸šåŠ¡é€»è¾‘**:
- å·®æ—…æˆæœ¬ = å·®æ—…æœˆæ•° Ã— (æ‰€æœ‰å¯ç”¨çš„å·®æ—…æˆæœ¬é¡¹ä¹‹å’Œ Ã· 10000)
- å•ä½ï¼šä¸‡å…ƒ
- æ•°æ®æ¥æºï¼š`config_travel_costs` è¡¨ï¼ˆå¸‚å†…é€šå‹¤1500 + ä½å®¿6000 + é¤è¡¥900 + å‡ºå·®è¡¥åŠ©2400 = 10800å…ƒ/æœˆï¼‰

---

## TODO-2: è¿ç»´æˆæœ¬å•ä»·é…ç½®åŒ–

### åŸå§‹é—®é¢˜ï¼ˆTODO-2ï¼‰

```javascript
// server/index.js - POST /api/calculate
const maintenanceCost = maintenanceWorkload * 0.16;  // âŒ ç¡¬ç¼–ç 
```

**é—®é¢˜åˆ†æ**:

- è¿ç»´äººå‘˜æ—¥å•ä»· `0.16ä¸‡` ç¡¬ç¼–ç 
- å®é™…è¿ç»´å•ä»·å¯èƒ½éšè§’è‰²/ç»éªŒå˜åŒ–

### å®æ–½æ–¹æ¡ˆï¼ˆTODO-2ï¼‰

âœ… **å·²å®Œæˆï¼šè¯»å–è¡¨å•å­—æ®µ + é»˜è®¤é…ç½®å€¼**

- å‰ç«¯åœ¨å…¶ä»–æˆæœ¬é¡µæ–°å¢ `maintenance_daily_cost` å­—æ®µï¼Œé»˜è®¤ 1600 å…ƒ/äººå¤©ï¼Œå¯ç”±ç”¨æˆ·è¦†ç›–
- è¯„ä¼°è®¡ç®—è¯·æ±‚é€ä¼ è¯¥å­—æ®µï¼Œåç«¯ `calculateProjectCost` ä½¿ç”¨ `assessmentData.maintenance_daily_cost`
- è‹¥æœªå¡«å†™ï¼Œå›é€€åˆ° `DEFAULTS.MAINTENANCE_DAILY_COST`ï¼ˆ1600ï¼‰
- ç»´æŠ¤æˆæœ¬è®¡ç®—å…¬å¼ï¼š`maintenanceWorkload * (maintenanceDailyCost / 10000)`ï¼Œä»¥ä¸‡å…ƒè®¡è´¹

### å®æ–½è®°å½•ï¼ˆå·²å®Œæˆï¼‰

**å®Œæˆæ—¶é—´**: 2025-10-22  
**ä¿®æ”¹æ–‡ä»¶**:

1. `frontend/ppa_frontend/src/pages/Assessment/components/OtherCostsForm.tsx`
2. `frontend/ppa_frontend/src/pages/Assessment/New.tsx`
3. `server/services/calculationService.js`
4. `server/utils/constants.js`

**éªŒè¯è¦ç‚¹**:

- æ— ç¡¬ç¼–ç  `0.16`ï¼Œç»Ÿä¸€èµ°ç”¨æˆ·è¾“å…¥æˆ–é»˜è®¤å¸¸é‡
- åç«¯è¿”å›çš„ç»´æŠ¤æˆæœ¬éšè¾“å…¥å•ä»·å˜åŒ–è€Œå˜åŒ–
- é»˜è®¤å€¼ 1600 å…ƒä¿è¯å†å²æ•°æ®å‘åå…¼å®¹

---

## TODO-3: è¯„åˆ†å› å­è®¡ç®—é€»è¾‘ä¼˜åŒ– âœ… å·²ä¸Šçº¿

### èƒŒæ™¯å›é¡¾ï¼ˆTODO-3ï¼‰
æ—§å®ç°ç›´æ¥ä½¿ç”¨ `riskScore / 100` ä½œä¸ºç³»æ•°ï¼Œå¯¼è‡´é£é™©è¶Šä½æŠ¥ä»·è¶Šä½ï¼ˆ60 åˆ†é¡¹ç›®ä»…æŒ‰ 0.6 å€ç»“ç®—ï¼‰ï¼Œä¸â€œé£é™©è¶Šé«˜åˆ©æ¶¦è¶Šé«˜â€çš„ä¸šåŠ¡é¢„æœŸç›¸åã€‚
 
### æœ€ç»ˆç®—æ³•ï¼ˆ2025-10-22ï¼‰

1. **é£é™©å¾—åˆ†**ï¼šæ±‡æ€» `assessmentData.risk_scores` ä¸­å„é£é™©é¡¹çš„é€‰é¡¹åˆ†å€¼ã€‚
2. **åŠ¨æ€ä¸Šé™**ï¼šè§£æ `config_risk_items.options_json`ï¼ŒæŒ‰æ¯ä¸ªé£é™©é¡¹çš„æœ€é«˜å¯é€‰åˆ†å€¼æ±‚å’Œï¼›å¦‚é…ç½®ä¸ºç©ºåˆ™å›é€€åˆ°é»˜è®¤ 100 åˆ†ã€‚
3. **å¾—åˆ†å æ¯”**ï¼š`ratio = clamp(riskScore / maxScore, 0, 1.2)`ï¼Œæœ€å¤šæŒ‰ 120% å‚ä¸è®¡ç®—ã€‚
4. **åˆ†æ®µçº¿æ€§æ˜ å°„**ï¼ˆä¸å‰ç«¯ Tooltip æè¿°ä¸€è‡´ï¼‰ï¼š
  - `ratio â‰¤ 0.8` â†’ ç³»æ•° `1.0`ï¼ˆåŸºå‡†ä»·ï¼‰
  - `0.8 < ratio â‰¤ 1.0` â†’ åœ¨çº¿æ€§åŒºé—´å†…ä» `1.0` é€’å¢åˆ° `1.2`
  - `1.0 < ratio â‰¤ 1.2` â†’ åœ¨çº¿æ€§åŒºé—´å†…ä» `1.2` é€’å¢åˆ°å°é¡¶ `1.5`
  - `ratio > 1.2` â†’ ç›´æ¥å–å°é¡¶ `1.5`

#### ç³»æ•°æ˜ å°„è¡¨

| é£é™©å æ¯”ï¼ˆratioï¼‰ | æŠ¥ä»·ç³»æ•° | æŠ¥ä»·è°ƒæ•´ |
|------------------|----------|----------|
| â‰¤ 80%            | 1.00     | åŸºå‡†ä»· |
| 90%              | â‰ˆ1.10    | +10% |
| 100%             | 1.20     | +20% |
| 110%             | â‰ˆ1.35    | +35% |
| â‰¥ 120%           | 1.50     | +50%ï¼ˆå°é¡¶ï¼‰ |

é£é™©ç­‰çº§ä»æŒ‰ç…§å æ¯”é˜ˆå€¼ 40% / 70% åˆ’åˆ†â€œä½/ä¸­/é«˜é£é™©â€ï¼Œä¿æŒä¸å‰ç«¯å±•ç¤ºä¸€è‡´ã€‚

### å‰åç«¯æ”¹åŠ¨è¦ç‚¹ï¼ˆTODO-3ï¼‰

- **åç«¯è®¡ç®—**ï¼šåœ¨ `server/utils/rating.js` ä¸­æ–°å¢ `computeRatingFactor`ï¼Œä¾› `server/services/calculationService.js` è°ƒç”¨ï¼Œå¹¶éšå“åº”è¿”å› `rating_factor`ã€`rating_ratio` ä¸ `risk_max_score`ã€‚
- **å‰ç«¯å¤ç”¨**ï¼šæ–°å¢ `frontend/ppa_frontend/src/utils/rating.ts` å¤ç”¨åŒä¸€å¥—è§£æä¸åˆ†æ®µé€»è¾‘ï¼Œ`New.tsx` çš„ç»Ÿè®¡å¡å¢åŠ  Tooltipâ€œé£é™©å¾—åˆ†å æ¯” xx%ï¼ˆåŠ¨æ€é˜ˆå€¼ï¼‰â€ã€‚
- **ç»“æœå±•ç¤º**ï¼š`Overview.tsx` åœ¨æŠ¥ä»·ç»“æœåŒºæ–°å¢â€œè¯„åˆ†å› å­â€å¡ç‰‡ï¼Œå¹¶é€šè¿‡ Tooltip è¯´æ˜â€œå½“å‰é£é™©å¾—åˆ†åˆè®¡ Nï¼Œå é…ç½®ä¸Šé™ M%â€ï¼›è¯¦æƒ…å›¾æ ‡ä½¿ç”¨ `InfoCircleOutlined`ã€‚

### å®æ–½è®°å½•ï¼ˆTODO-3ï¼‰

**å®Œæˆæ—¶é—´**: 2025-10-22  
**ä¸»è¦ä¿®æ”¹æ–‡ä»¶**:

- `server/utils/constants.js`
- `server/utils/rating.js`
- `server/services/calculationService.js`
- `frontend/ppa_frontend/src/utils/rating.ts`
- `frontend/ppa_frontend/src/pages/Assessment/New.tsx`
- `frontend/ppa_frontend/src/pages/Assessment/components/Overview.tsx`
- `frontend/ppa_frontend/src/pages/Assessment/components/RiskScoringForm.tsx`
- `frontend/ppa_frontend/src/services/assessment/typings.d.ts`

**éªŒè¯è¦ç‚¹**:

- ä¸å¡«å†™é£é™©é¡¹æ—¶ä½¿ç”¨é»˜è®¤ä¸Šé™ 100 åˆ†ï¼Œç³»æ•°ä¿æŒ 1.0ã€‚
- ä»»æ„é£é™©é¡¹é…ç½®å˜åŒ–ï¼ˆæ–°å¢é€‰é¡¹/ä¿®æ”¹åˆ†å€¼ï¼‰ä¼šè‡ªåŠ¨æ¨å¯¼æ–°çš„ä¸Šé™å¹¶åŒæ­¥åˆ°å‰ç«¯ã€‚
- ç»“æœæ¥å£é¢å¤–å­—æ®µ `rating_factor`ã€`rating_ratio`ã€`risk_max_score` ä¸å‰ç«¯å±•ç¤ºä¸€è‡´ï¼ŒTooltip æ–‡æ¡ˆç›´è§‚è¯´æ˜ç³»æ•°æ¥æºã€‚

---

## TODO-4: å››èˆäº”å…¥æ—¶æœºä¼˜åŒ– âœ… å·²ä¸Šçº¿

### èƒŒæ™¯é—®é¢˜
```javascript
// æœ€åç»Ÿä¸€å–æ•´
const result = {
  software_dev_cost: Math.round(dev.totalCost),        // 4.83 â†’ 5
  system_integration_cost: Math.round(integration.totalCost),  // 1.94 â†’ 2
  travel_cost: Math.round(travelCost),                // 2.16 â†’ 2
  maintenance_cost: Math.round(maintenanceCost),      // 82.56 â†’ 83
  risk_cost: Math.round(riskCost),                    // 8 â†’ 8
  total_cost: Math.round(totalExactCost),             // 98.49 â†’ 98
};
```

**é—®é¢˜åˆ†æ**:
```
åˆ†é¡¹å–æ•´: 5 + 2 + 2 + 83 + 8 = 100
æ€»é¢å–æ•´: Math.round(98.49) = 98

ç›¸å·® 2 ä¸‡å…ƒï¼
```

### æ”¹é€ è¦ç‚¹

1. **åç«¯è®¡ç®—è°ƒæ•´**ï¼ˆ2025-10-22ï¼‰
   - å¼•å…¥ `roundToDecimals` è¾…åŠ©å‡½æ•°ï¼Œç»Ÿä¸€å°†å„åˆ†é¡¹é‡‘é¢ä¿ç•™ä¸¤ä½å°æ•°ï¼Œé¿å…æµ®ç‚¹è¯¯å·®ã€‚
   - åˆ†é¡¹å­—æ®µï¼ˆç ”å‘/å¯¹æ¥/å·®æ—…/è¿ç»´/é£é™©ï¼‰è¿”å›ä¸¤ä½å°æ•°ç²¾åº¦ï¼Œé¢å¤–æš´éœ² `total_cost_exact` ç”¨äºæ€»é¢æç¤ºã€‚
   - æ€»é¢ä»æŒ‰ä¸‡å…ƒå››èˆäº”å…¥ï¼ˆ`Math.round(totalExactCost)`ï¼‰ï¼Œç”¨äºå¯¹å¤–æŠ¥ä»·ä¸å†å²è®°å½•ã€‚

2. **å‰ç«¯å±•ç¤ºç­–ç•¥**
   - `Overview` é¡µé¢æˆæœ¬é¢æ¿ç»Ÿä¸€è®¾ç½® `precision={2}`ï¼Œç›´è§‚å±•ç¤ºå°æ•°é‡‘é¢ã€‚
   - æŠ¥ä»·æ€»è®¡åŒ…è£¹ Tooltipï¼Œæ‚¬åœæ˜¾ç¤ºç²¾ç¡®æ€»æˆæœ¬ï¼ˆä¸¤ä½å°æ•°ï¼‰ï¼Œå…¼é¡¾æŠ¥ä»·æ²Ÿé€šä¸å®¡æ ¸éœ€æ±‚ã€‚

### å®æ–½è®°å½•
**å®Œæˆæ—¶é—´**: 2025-10-22  
**ä¿®æ”¹æ–‡ä»¶**:
- `server/services/calculationService.js`
- `frontend/ppa_frontend/src/services/assessment/typings.d.ts`
- `frontend/ppa_frontend/src/pages/Assessment/components/Overview.tsx`

**éªŒè¯è¦ç‚¹**:
- åˆ†é¡¹é‡‘é¢ä¸æ•°æ®åº“å¯¼å‡ºä¿æŒä¸¤ä½å°æ•°ï¼Œé¿å…ç´¯åŠ è¯¯å·®ã€‚
- æŠ¥ä»·æ€»è®¡ Tooltip æ˜¾ç¤ºä¸ç²¾ç¡®æ€»å’Œä¸€è‡´ï¼Œåœ†æ•´å€¼ç”¨äºå¯¹å¤–æ²Ÿé€šã€‚
- å†å²è®°å½•ä»å­˜å‚¨åœ†æ•´æ€»é¢ï¼Œå…¼å®¹ç°æœ‰æŠ¥è¡¨ä¸å¯¼å‡ºé€»è¾‘ã€‚

---

## TODO-5: å·¥ä½œé‡æ•°æ®è¿”å›å‰ç«¯ âœ… å·²ä¸Šçº¿

### å®æ–½æ‘˜è¦
- åç«¯ `calculateProjectCost` ç°è¿”å›ç ”å‘/å¯¹æ¥/è¿ç»´ä¸‰ç±»å·¥ä½œé‡ï¼ˆäººå¤©ï¼‰åŠæ€»å·¥ä½œé‡ï¼Œå¹¶å¯¹æ•°æ®ç»Ÿä¸€å–æ•´ï¼Œç¡®ä¿ä¸æŠ¥ä»·æ˜ç»†ä¸€è‡´ã€‚
- `/api/calculate` ä¸é¡¹ç›®ä¿å­˜æµç¨‹æ²¿ç”¨ `total_workload_days` å­—æ®µå†™å…¥æ•°æ®åº“ï¼ŒåŒæ—¶è¡¥å……æ¨¡å—çº§å­—æ®µï¼Œå…¼å®¹æ—§æ•°æ®ã€‚
- å‰ç«¯ç±»å‹ `API.CalculationResult` åŒæ­¥æ‰©å±•ï¼Œ`Overview` æ€»è§ˆé¡µå°†æˆæœ¬ä¸å·¥ä½œé‡æˆå¯¹å±•ç¤ºï¼Œæ–°å¢ã€Œæ€»å·¥ä½œé‡ã€é«˜äº®æŒ‡æ ‡ï¼Œä¾¿äºè¯„ä¼°èµ„æºæŠ•å…¥ã€‚

### å®æ–½è®°å½•
**å®Œæˆæ—¶é—´**: 2025-10-22  
**ä¸»è¦ä¿®æ”¹æ–‡ä»¶**:

- `server/services/calculationService.js`
- `frontend/ppa_frontend/src/services/assessment/typings.d.ts`
- `frontend/ppa_frontend/src/pages/Assessment/components/Overview.tsx`

**éªŒè¯è¦ç‚¹**:

- æŒ‰ç…§ä¸åŒç»´åº¦å¡«å†™å·¥ä½œé‡å¹¶é‡æ–°è®¡ç®—ï¼Œå‰ç«¯èƒ½å‡†ç¡®æ˜¾ç¤ºå„æ¨¡å—æˆæœ¬ä¸äººå¤©ã€‚ 
- ä¿å­˜é¡¹ç›®åï¼Œå†å²è®°å½•ä¸­çš„ `final_workload_days` ä¸ç•Œé¢å±•ç¤ºä¸€è‡´ã€‚ 
- æœªå¡«å†™è¿ç»´æˆ–å¯¹æ¥å·¥ä½œé‡æ—¶ï¼Œå¯¹åº”å­—æ®µæ˜¾ç¤ºä¸º 0 äººå¤©ï¼Œä¸å½±å“å…¶ä»–éƒ¨åˆ†ã€‚

---

## å®æ–½å»ºè®®

### é˜¶æ®µ1: é«˜ä¼˜å…ˆçº§ (1å‘¨)
- [x] **TODO-3**: è¯„åˆ†å› å­é€»è¾‘ä¼˜åŒ–ï¼ˆ2025-10-22 ä¸Šçº¿ï¼ŒåŠ¨æ€é˜ˆå€¼ + Tooltip å·²è½åœ°ï¼‰

### é˜¶æ®µ2: ä¸­ä¼˜å…ˆçº§ (1å‘¨)
- [x] **TODO-1**: å·®æ—…æˆæœ¬é…ç½®åŒ–
- [x] **TODO-2**: è¿ç»´æˆæœ¬é…ç½®åŒ–
- [x] **TODO-5**: å·¥ä½œé‡æ•°æ®è¿”å›

### é˜¶æ®µ3: ä½ä¼˜å…ˆçº§ (æŒ‰éœ€)
- [ ] **TODO-4**: å››èˆäº”å…¥ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰

---

## è®¨è®ºè®°å½•

### è®¨è®º #1 - 2025-10-21
**å‚ä¸è€…**: [å¾…å¡«å†™]  
**è®®é¢˜**: è¯„åˆ†å› å­åŸºå‡†åˆ†æ•°ç¡®å®š

**å†³è®®**:
- [x] ç¡®å®šåŸºå‡†é£é™©åˆ†æ•°ï¼ˆ80% èµ·æ­¥ï¼Œè¶… 120% å°é¡¶ï¼‰
- [x] ç¡®å®šæœ€å¤§ä¸Šæµ®æ¯”ä¾‹ï¼ˆå°é¡¶ 1.5 å€ â‰ˆ +50%ï¼‰
- [ ] ç¡®å®šæ˜¯å¦ç»™ä½é£é™©é¡¹ç›®æŠ˜æ‰£ï¼ˆæš‚ä¸æŠ˜æ‰£ï¼Œä¿æŒ 1.0ï¼‰

---

### è®¨è®º #2 - [å¾…å®‰æ’]
**å‚ä¸è€…**: [å¾…å¡«å†™]  
**è®®é¢˜**: é…ç½®åŒ–æ”¹é€ ä¼˜å…ˆçº§

**å¾…è®¨è®º**:
- [ ] æ˜¯å¦å…ˆå®ç°é…ç½®åŒ–ï¼Œå†ä¼˜åŒ–ç®—æ³•ï¼Ÿ
- [ ] é…ç½®ç•Œé¢ç”±è°å¼€å‘ï¼Ÿ
- [ ] å†å²æ•°æ®è¿ç§»ç­–ç•¥ï¼Ÿ

---

## ç›¸å…³èµ„æº

- [è®¡ç®—é€»è¾‘æŠ€æœ¯æ–‡æ¡£](./calculation-logic-spec.md)
- [åç«¯ä»£ç ](../../server/index.js) (line 211-340)
- [è¯„åˆ†ç³»æ•°æ ¸å¿ƒé€»è¾‘](../../server/utils/rating.js)
- [å‰ç«¯ç»„ä»¶](../../frontend/ppa_frontend/src/pages/Assessment/components/Overview.tsx)
- [å‰ç«¯è¯„åˆ†å·¥å…·](../../frontend/ppa_frontend/src/utils/rating.ts)
- [ç±»å‹å®šä¹‰](../../frontend/ppa_frontend/src/services/assessment/typings.d.ts)

---

**æ–‡æ¡£ç»“æŸ**
