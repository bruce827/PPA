# Server ç›®å½•è¯´æ˜

## ç›®å½•ç»“æ„

```
server/
â”œâ”€â”€ index.js           # åç«¯æœåŠ¡ä¸»æ–‡ä»¶ (ç«¯å£ 3001)
â”œâ”€â”€ init-db.js         # æ•°æ®åº“è¡¨ç»“æ„åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ ppa.db            # SQLite æ•°æ®åº“æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ package.json       # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ seed-data/         # ğŸ“ æ•°æ®åˆå§‹åŒ–è„šæœ¬ç›®å½•
    â”œâ”€â”€ README.md              # æ•°æ®åˆå§‹åŒ–è¯¦ç»†è¯´æ˜
    â”œâ”€â”€ seed-all.js            # ä¸€é”®åˆå§‹åŒ–æ‰€æœ‰æ•°æ®
    â”œâ”€â”€ seed-roles.js          # è§’è‰²æ•°æ®åˆå§‹åŒ–
    â”œâ”€â”€ seed-travel-costs.js   # å·®æ—…æˆæœ¬åˆå§‹åŒ–
    â””â”€â”€ seed-risk-items.js     # é£é™©è¯„ä¼°é¡¹åˆå§‹åŒ–
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. åˆå§‹åŒ–æ•°æ®åº“

```bash
# åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
node init-db.js

# åˆå§‹åŒ–åŸºç¡€æ•°æ®ï¼ˆä¸€é”®è¿è¡Œï¼‰
cd seed-data
node seed-all.js
```

æˆ–è€…å•ç‹¬è¿è¡Œå„ä¸ªåˆå§‹åŒ–è„šæœ¬ï¼š

```bash
cd seed-data
node seed-roles.js          # åˆå§‹åŒ–è§’è‰²æ•°æ®
node seed-travel-costs.js   # åˆå§‹åŒ–å·®æ—…æˆæœ¬
node seed-risk-items.js     # åˆå§‹åŒ–é£é™©è¯„ä¼°é¡¹
```

### 3. å¯åŠ¨æœåŠ¡

```bash
# è¿”å› server ç›®å½•
cd ..
# å¯åŠ¨åç«¯æœåŠ¡
node index.js
```

æœåŠ¡å°†åœ¨ http://localhost:3001 å¯åŠ¨ã€‚

## API ç«¯ç‚¹

- `GET /api/health` - å¥åº·æ£€æŸ¥
- `GET /api/config/roles` - è·å–è§’è‰²é…ç½®
- `GET /api/config/travel-costs` - è·å–å·®æ—…æˆæœ¬é…ç½®
- `GET /api/config/risk-items` - è·å–é£é™©è¯„ä¼°é¡¹é…ç½®
- æ›´å¤š API è¯·æŸ¥çœ‹ `index.js`

## æ•°æ®ç®¡ç†

æ‰€æœ‰æ•°æ®åˆå§‹åŒ–ç›¸å…³çš„è„šæœ¬å’Œæ–‡æ¡£éƒ½åœ¨ `seed-data/` ç›®å½•ä¸­ã€‚

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ï¼š[seed-data/README.md](./seed-data/README.md)

## æ³¨æ„äº‹é¡¹

- åç«¯ä½¿ç”¨ç«¯å£ 3001ï¼Œé¿å…ä¸å‰ç«¯ 3000 ç«¯å£å†²çª
- SQLite æ•°æ®åº“æ–‡ä»¶ `ppa.db` ä¼šè‡ªåŠ¨åˆ›å»º
- åˆå§‹åŒ–è„šæœ¬ä¼šæ¸…ç©ºç°æœ‰æ•°æ®ï¼Œè¯·è°¨æ…ä½¿ç”¨
